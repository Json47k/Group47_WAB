<!DOCTYPE html>
<html lang="en">
<head>
	<title>Order Confirmation - CozaStore</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.png"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/linearicons-v1.0.0/icon-font.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
	<style>
		/* Order confirmation styling to match checkout page */
		.confirmation-container {
			background: #f7f7f7;
			min-height: 100vh;
			padding: 20px 0;
		}
		
		.confirmation-card {
			background: white;
			border-radius: 0;
			box-shadow: none;
			overflow: hidden;
		}
		
		.confirmation-header {
			background: #28a745;
			color: white;
			padding: 30px;
			text-align: center;
		}
		
		.confirmation-header h1 {
			margin: 0;
			font-size: 2.5rem;
			font-weight: 300;
		}
		
		.confirmation-header p {
			margin: 10px 0 0 0;
			opacity: 0.9;
		}
		
		.success-icon {
			font-size: 4rem;
			margin-bottom: 20px;
		}
		
		.confirmation-section {
			padding: 30px;
			border-bottom: 1px solid #eee;
		}
		
		.confirmation-section:last-child {
			border-bottom: none;
		}
		
		.section-title {
			font-size: 1.5rem;
			color: #333;
			margin-bottom: 25px;
			padding-bottom: 10px;
			border-bottom: 2px solid #28a745;
			display: inline-block;
		}
		
		.order-details {
			background: #f8f9fa;
			border-radius: 0;
			padding: 20px;
			margin-bottom: 20px;
		}
		
		.detail-row {
			display: flex;
			justify-content: space-between;
			margin-bottom: 15px;
			padding-bottom: 15px;
			border-bottom: 1px solid #eee;
		}
		
		.detail-row:last-child {
			border-bottom: none;
			margin-bottom: 0;
			padding-bottom: 0;
			font-weight: 700;
			font-size: 1.2rem;
			color: #28a745;
		}
		
		.order-item {
			display: flex;
			align-items: center;
			padding: 15px 0;
			border-bottom: 1px solid #eee;
		}
		
		.order-item:last-child {
			border-bottom: none;
		}
		
		.order-item-img {
			width: 60px;
			height: 60px;
			object-fit: cover;
			border-radius: 0;
			margin-right: 15px;
		}
		
		.order-item-details {
			flex: 1;
		}
		
		.order-item-name {
			font-weight: 600;
			color: #333;
			margin-bottom: 5px;
		}
		
		.order-item-price {
			color: #28a745;
			font-weight: 600;
		}
		
		.order-item-qty {
			color: #666;
			font-size: 14px;
		}
		
		.btn-primary {
			background: #28a745;
			border: none;
			color: white;
			padding: 15px 30px;
			border-radius: 25px;
			font-size: 18px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			width: 100%;
			margin-top: 20px;
		}
		
		.btn-primary:hover {
			background: #218838;
			transform: none;
			box-shadow: none;
		}
		
		.btn-secondary {
			background: #6c757d;
			border: none;
			color: white;
			padding: 12px 25px;
			border-radius: 25px;
			font-size: 16px;
			cursor: pointer;
			transition: all 0.3s ease;
			margin-right: 15px;
		}
		
		.btn-secondary:hover {
			background: #5a6268;
		}
		
		.progress-bar {
			display: flex;
			justify-content: center;
			margin-bottom: 30px;
		}
		
		.progress-step {
			display: flex;
			align-items: center;
			margin: 0 15px;
		}
		
		.progress-circle {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background: #e1e5e9;
			color: #666;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 600;
			margin-right: 10px;
		}
		
		.progress-step.active .progress-circle {
			background: #28a745;
			color: white;
		}
		
		.progress-step.completed .progress-circle {
			background: #28a745;
			color: white;
		}
		
		@media (max-width: 768px) {
			.confirmation-header h1 {
				font-size: 2rem;
			}
			
			.confirmation-section {
				padding: 20px;
			}
			
			.progress-step {
				margin: 0 5px;
			}
			
			.progress-circle {
				width: 30px;
				height: 30px;
				font-size: 14px;
			}
		}
	</style>
</head>
<body class="animsition">

	<!-- Header -->
	<header class="header-v4">
		<!-- Header desktop -->
		<div class="container-menu-desktop">
			<!-- Topbar -->
			<div class="top-bar">
				<div class="content-topbar flex-sb-m h-full container">
					<div class="left-top-bar">
						Free shipping for standard order over RM100
					</div>

					<div class="right-top-bar flex-w h-full">
						<a href="order-tracking.html" class="flex-c-m trans-04 p-lr-25">
							<i class="fa fa-truck" style="margin-right:4px"></i> Track Order
						</a>

						<a href="help-faq.html" class="flex-c-m trans-04 p-lr-25">
							Help & FAQs
						</a>

						<a class="myAccountLink flex-c-m trans-04 p-lr-25" href="login.html">
							My Account
						</a>

					</div>
				</div>
			</div>

			<div class="wrap-menu-desktop how-shadow1">
				<nav class="limiter-menu-desktop container">
					
					<!-- Logo desktop -->		
					<a href="index.html" class="logo">
						<img src="images/icons/logo-01.png" alt="IMG-LOGO">
					</a>

					<!-- Menu desktop -->
					<div class="menu-desktop">
						<ul class="main-menu">
							<li>
								<a href="index.html">Home</a>
							</li>

							<li>
								<a href="product.html">Shop</a>
							</li>

							<li>
								<a href="about.html">About</a>
							</li>

							<li>
								<a href="contact.html">Contact</a>
							</li>
						</ul>
					</div>	

					<!-- Icon header -->
					<div class="wrap-icon-header flex-w flex-r-m">
						<a href="shopping-cart.html" class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-cart" data-notify="0">
							<i class="zmdi zmdi-shopping-cart"></i>
						</a>
						<a href="wishlist.html" class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-wishlist" data-notify="0">
							<i class="zmdi zmdi-favorite-outline"></i>
						</a>
					</div>
				</nav>
			</div>	
		</div>

		<!-- Header Mobile -->
		<div class="wrap-header-mobile">
			<!-- Logo moblie -->		
			<div class="logo-mobile">
				<a href="index.html"><img src="images/icons/logo-01.png" alt="IMG-LOGO"></a>
			</div>

			<!-- Icon header -->
			<div class="wrap-icon-header flex-w flex-r-m m-r-15">
				<a href="shopping-cart.html" class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-cart">
					<i class="zmdi zmdi-shopping-cart"></i>
				</a>

				<a href="wishlist.html" class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti">
					<i class="zmdi zmdi-favorite-outline"></i>
				</a>
			</div>

			<!-- Button show menu -->
			<div class="btn-show-menu-mobile hamburger hamburger--squeeze">
				<span class="hamburger-box">
					<span class="hamburger-inner"></span>
				</span>
			</div>
		</div>


		<!-- Menu Mobile -->
		<div class="menu-mobile">
			<ul class="topbar-mobile">
				<li>
					<div class="left-top-bar">
						Free shipping for standard order over RM100
					</div>
				</li>

				<li>
					<div class="right-top-bar flex-w h-full">
						<a href="order-tracking.html" class="flex-c-m trans-04 p-lr-15">
							<i class="fa fa-truck" style="margin-right:4px"></i> Track Order
						</a>
						<a href="help-faq.html" class="flex-c-m trans-04 p-lr-15">
							Help & FAQs
						</a>

						<a class="myAccountLink flex-c-m trans-04 p-lr-20" href="login.html">
							My Account
						</a>
					</div>
				</li>
			</ul>

			<ul class="main-menu-m">
				<li>
					<a href="index.html">Home</a>
				</li>

				<li>
					<a href="product.html">Shop</a>
				</li>

				<li>
					<a href="about.html">About</a>
				</li>

				<li>
					<a href="contact.html">Contact</a>
				</li>
			</ul>
		</div>
	</header>

	<!-- Order Confirmation Container -->
	<div class="confirmation-container">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-10">
					<div class="confirmation-card">
						<!-- Confirmation Header -->
						<div class="confirmation-header">
							<div class="success-icon">
								<i class="fa fa-check-circle"></i>
							</div>
							<h1>Order Confirmed!</h1>
							<p>Thank you for your purchase. Your order has been successfully placed.</p>
						</div>

						<!-- Progress Bar -->
						<div class="progress-bar">
							<div class="progress-step completed">
								<div class="progress-circle">1</div>
								<span>Cart</span>
							</div>
							<div class="progress-step completed">
								<div class="progress-circle">2</div>
								<span>Checkout</span>
							</div>
							<div class="progress-step active">
								<div class="progress-circle">3</div>
								<span>Confirmation</span>
							</div>
						</div>

						<div class="row">
							<!-- Left Column - Order Details -->
							<div class="col-lg-8">
								<!-- Order Information -->
								<div class="confirmation-section">
									<h3 class="section-title">Order Information</h3>
									
									<div class="order-details">
										<div class="detail-row">
											<span>Order Number:</span>
											<span id="orderNumber">#ORD-<span id="orderId"></span></span>
										</div>
										<div class="detail-row">
											<span>Order Date:</span>
											<span id="orderDate"></span>
										</div>
										<div class="detail-row">
											<span>Payment Method:</span>
											<span id="paymentMethod"></span>
										</div>
										<div class="detail-row">
											<span>Order Status:</span>
											<span style="color: #28a745; font-weight: 600;">Confirmed</span>
										</div>
									</div>
								</div>

								<!-- Shipping Information -->
								<div class="confirmation-section">
									<h3 class="section-title">Shipping Information</h3>
									
									<div class="order-details">
										<div class="detail-row">
											<span>Name:</span>
											<span id="customerName"></span>
										</div>
										<div class="detail-row">
											<span>Email:</span>
											<span id="customerEmail"></span>
										</div>
										<div class="detail-row">
											<span>Phone:</span>
											<span id="customerPhone"></span>
										</div>
										<div class="detail-row">
											<span>Address:</span>
											<span id="customerAddress"></span>
										</div>
									</div>
								</div>

								<!-- Order Items -->
								<div class="confirmation-section">
									<h3 class="section-title">Order Items</h3>
									
									<div id="orderItems">
										<!-- Order items will be populated here -->
									</div>
								</div>
							</div>

							<!-- Right Column - Order Summary -->
							<div class="col-lg-4">
								<div class="confirmation-section">
									<h3 class="section-title">Order Summary</h3>
									
									<div class="order-details">
										<div class="detail-row">
											<span>Subtotal:</span>
											<span id="subtotal">RM 0.00</span>
										</div>
										
										<div class="detail-row">
											<span>Tax:</span>
											<span id="tax">RM 0.00</span>
										</div>
										<div class="detail-row">
											<span>Total:</span>
											<span id="total">RM 0.00</span>
										</div>
									</div>
									
									<!-- Action Buttons -->
									<button type="button" class="btn-secondary" id="backToHome">
										<i class="fa fa-home"></i> Back to Home
									</button>
									
									<button type="button" class="btn-primary" id="requestRefund">
										<i class="fa fa-undo"></i> Request Refund
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

		<!-- Footer -->
	<footer class="bg3 p-t-75 p-b-32">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						Categories
					</h4>

					<ul>
						<li class="p-b-10">
							<a href="product.html" class="stext-107 cl7 hov-cl1 trans-04 category-link" data-category="women">
								Women
							</a>
						</li>

						<li class="p-b-10">
							<a href="product.html" class="stext-107 cl7 hov-cl1 trans-04 category-link" data-category="men">
								Men
							</a>
						</li>

						<li class="p-b-10">
							<a href="product.html" class="stext-107 cl7 hov-cl1 trans-04 category-link" data-category="accessories">
								Accessories
							</a>
						</li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						Help
					</h4>

					<ul>
						<li class="p-b-10">
							<a href="order-tracking.html" class="stext-107 cl7 hov-cl1 trans-04">
								Track Order
							</a>
						</li>

						<li class="p-b-10">
							<a href="refund.html" class="stext-107 cl7 hov-cl1 trans-04">
								Refund
							</a>
						</li>

						<li class="p-b-10">
							<a href="checkout.html" class="stext-107 cl7 hov-cl1 trans-04">
								Shipping
							</a>
						</li>

						<li class="p-b-10">
							<a href="help-faq.html" class="stext-107 cl7 hov-cl1 trans-04">
								FAQs
							</a>
						</li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						GET IN TOUCH
					</h4>

					<p class="stext-107 cl7 size-201">
						Any questions? Let us know in store at Jalan Universiti, Bandar Barat, 31900 Kampar, Perak
					</p>

					<div class="p-t-27">
						<a href="https://www.facebook.com/" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-facebook"></i>
						</a>

						<a href="https://www.instagram.com/" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-instagram"></i>
						</a>

						<a href="https://www.pinterest.com/" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-pinterest-p"></i>
						</a>
					</div>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						Store Information
					</h4>

					<div class="stext-107 cl7 size-201">
						<p><strong>Opening Hours:</strong></p>
						<p>Mon-Fri: 9AM - 9PM</p>
						<p>Sat-Sun: 10AM - 8PM</p>
						<p class="p-t-10"><strong>Contact:</strong></p>
						<p>Email: wab@gmail.com</p>
						<p>Phone: 05-468 8888</p>
					</div>
				</div>
			</div>

			<div class="p-t-40">
				<div class="flex-c-m flex-w p-b-18">
					<a href="shopping-cart.html" class="m-all-1">
						<img src="images/icons/icon-pay-01.png" alt="ICON-PAY">
					</a>

					<a href="shopping-cart.html" class="m-all-1">
						<img src="images/icons/icon-pay-02.png" alt="ICON-PAY">
					</a>

					<a href="shopping-cart.html" class="m-all-1">
						<img src="images/icons/icon-pay-03.png" alt="ICON-PAY">
					</a>

					<a href="shopping-cart.html" class="m-all-1">
						<img src="images/icons/icon-pay-04.png" alt="ICON-PAY">
					</a>

					<a href="shopping-cart.html" class="m-all-1">
						<img src="images/icons/icon-pay-05.png" alt="ICON-PAY">
					</a>
				</div>
			</div>
		</div>
	</footer>

<!--===============================================================================================-->	
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<!--===============================================================================================-->
	<script src="js/main.js"></script>
	<script src="js/cart.js"></script>

	<script>
		// Order confirmation functionality
		document.addEventListener('DOMContentLoaded', function() {
			// Initialize confirmation page
			initializeConfirmation();
			
			// Setup event listeners
			setupEventListeners();
		});

		function initializeConfirmation() {
			// Update cart counter (should be 0 after order)
			updateCartCounter();
			
			// Load order details
			loadOrderDetails();
		}

		function setupEventListeners() {
			// Back to home button
			document.getElementById('backToHome').addEventListener('click', function() {
				window.location.href = 'index.html';
			});

			// Request refund button
			document.getElementById('requestRefund').addEventListener('click', function() {
				window.location.href = 'refund.html';
			});
		}

		function loadOrderDetails() {
			// Get order info from localStorage (stored during checkout)
			const orderInfo = JSON.parse(localStorage.getItem('orderInfo')) || {};
			const cartData = JSON.parse(localStorage.getItem('cart')) || [];
			
			// Generate order ID
			const orderId = Date.now().toString().slice(-6);
			document.getElementById('orderId').textContent = orderId;
			
			// Set order date
			const now = new Date();
			document.getElementById('orderDate').textContent = now.toLocaleDateString('en-US', {
				year: 'numeric',
				month: 'long',
				day: 'numeric',
				hour: '2-digit',
				minute: '2-digit'
			});
			
			// Set customer information
			document.getElementById('customerName').textContent = orderInfo.customerName || 'N/A';
			document.getElementById('customerEmail').textContent = orderInfo.customerEmail || 'N/A';
			document.getElementById('customerPhone').textContent = orderInfo.customerPhone || 'N/A';
			document.getElementById('customerAddress').textContent = orderInfo.customerAddress || 'N/A';
			
			// Set payment method
			document.getElementById('paymentMethod').textContent = orderInfo.paymentMethod || 'N/A';
			
			// Display order items
			displayOrderItems(cartData);
			
			// Calculate and display totals
			calculateOrderTotals(cartData);
		}

		function displayOrderItems(cartData) {
			const orderItemsContainer = document.getElementById('orderItems');
			let html = '';

			cartData.forEach(item => {
				html += `
					<div class="order-item">
						<img src="${item.img || 'images/product-01.jpg'}" alt="${item.name}" class="order-item-img">
						<div class="order-item-details">
							<div class="order-item-name">${item.name}</div>
							<div class="order-item-price">RM ${item.price.toFixed(2)}</div>
							<div class="order-item-qty">Qty: ${item.qty}</div>
						</div>
					</div>
				`;
			});

			orderItemsContainer.innerHTML = html;
		}

		function calculateOrderTotals(cartData) {
			const subtotal = cartData.reduce((sum, item) => sum + (item.price * item.qty), 0);
			const checkoutInfo = JSON.parse(localStorage.getItem('checkoutInfo')) || {};
			const shippingFee = checkoutInfo.shippingFee || 0;
			const tax = subtotal * 0.06; // 6% tax
			const total = subtotal + shippingFee + tax;

			document.getElementById('subtotal').textContent = `RM ${subtotal.toFixed(2)}`;
		
			document.getElementById('tax').textContent = `RM ${tax.toFixed(2)}`;
			document.getElementById('total').textContent = `RM ${total.toFixed(2)}`;
		}
	</script>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const loggedInUser = localStorage.getItem("loggedInUser");
			document.querySelectorAll(".myAccountLink").forEach(link => {
				if (loggedInUser) {
					link.setAttribute("href", "customer-loyalty.html"); // Loyalty Page
				} else {
					link.setAttribute("href", "login.html"); // Login Page
				}
			});
		});
	</script>

</body>
</html>
